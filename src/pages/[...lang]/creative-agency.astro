---
import Base from "@/layouts/Base.astro";
import { getEntryCTM } from "@/lib/contentParser.astro";
import BannerAgencyDark from "@/components/sections/BannerAgencyDark.astro";
import ServicesSection from "@/components/sections/ServicesSection.astro";
import { generatePaths } from "@/lib/utils/languageParser.ts";
import PortfolioSection from "@/components/sections/PortfolioSection.astro";
import BlogSection from "@/components/sections/BlogSection.astro";
import Clients from "@/components/sections/Clients.astro";
import CallToAction from "@/components/sections/CallToAction.astro";
import Features from "@/components/sections/Features.astro";
import Skills from "@/components/sections/Skills.astro";
import Awards from "@/components/sections/Awards.astro";
import VideoSection from "@/components/sections/VideoSection.astro";

export function getStaticPaths() {
  return generatePaths();
}

const page = await getEntryCTM(
  "homepage",
  "creative-agency",
  Astro.currentLocale,
);

const { servicesSection, portfolioSection, blogSection, ctaSection } =
  page?.data;
---

<Base
  {...page?.data}
  hideOffcanvas={true}
  headerPosition="fixed"
  footerLayout={"footer-2"}
  hasHeaderDarkBackground={true}>
  <BannerAgencyDark />
  <Features sectionSpaceTop={false} />
  <ServicesSection content={servicesSection} />
  <Skills />
  <PortfolioSection content={portfolioSection} />
  <Awards />
  <VideoSection />
  <BlogSection content={blogSection} />
  <Clients />
  <CallToAction content={ctaSection} />
</Base>
